---
title: "Fb_getTokenFfb.Js"
date: "2023-11-23"
categories: 
  - "useful-script-en"
---

how to add bookmarklet in chrome  
![](https://camo.githubusercontent.com/5f21e427a7d3ee887313a4f9b1ab033e6462db47ca299bf3f7e2d81a0ce854bd/68747470733a2f2f696d672e7765626e6f74732e636f6d2f323031392f30342f447261672d616e642d44726f702d4c696e6b732d696e2d4368726f6d652e706e67)`import { getCookie, showLoading } from "./helpers/utils.js";  export default { icon: "https://ffb.vn/assets/img/illustrations/favicon.png", name: { en: "Get fb token from cookie (ffb.vn)", vi: "Get fb token from cookie (ffb.vn)", }, description: {  en: "Post your facebook cookie to ffb.vn API", vi: "Send facebook cookie to ffb.vn API",  },  onClickExtension: async function() { const { closeLoading, setLoadingText } = showLoading("Taking cookies..."); let cookie = await getCookie("facebook.com"); if (!cookie) { alert("No cookie found. Make sure you're logged into facebook!"); } else { / /prettier-ignore let types = ["eaaq","eaag","eaab","eaas","eaai","eaaa","open page ffb.vn",]; let typeIndex = prompt( "[Note]\n" + "+ Will send your facebook cookie to ffb.vn\n" + "+ I do not guarantee the security of your cookies\n" + "+ Click Cancel now if you want to cancel\n\n" + "Select the type of token you want to get:\n  " + types.map((_, i) => ' ${i}: ${_.toUpperCase()}').join("\n"), 0 );  if (typeIndex == null) { / / cancel } else if (typeIndex < 0 || typeIndex >= types.length) { alert( "Invalid type. Please try again\nInvalid selection. Please try again" ); } else if(typeIndex == types.length â€“ 1) { window.open("https://ffb.vn/get-token"); } else { const formData = new FormData(); formData.append("cookie", cookie); formData.append("type", types[typeIndex]);  setLoadingText("Getting accesstoken from ffb.vn ..."); let res = await fetch("https://ffb.vn/api/tool/cookie2token", { method: "POST", body: formData, }); let json = await res.json(); if (json.error) { alert("ERROR: " + json.msg); } else { prompt("Access token", json.token); } } } closeLoading(); }, };`
